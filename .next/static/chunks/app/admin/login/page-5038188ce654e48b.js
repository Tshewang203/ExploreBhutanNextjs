(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[920],{3511:function(e,r,n){Promise.resolve().then(n.bind(n,6801))},703:function(e,r,n){"use strict";n.d(r,{default:function(){return t.a}});var s=n(7447),t=n.n(s)},8792:function(e,r,n){"use strict";n.d(r,{default:function(){return t.a}});var s=n(5250),t=n.n(s)},7447:function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var n in r)Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}(r,{getImageProps:function(){return l},default:function(){return o}});let s=n(6921),t=n(8630),a=n(1749),i=s._(n(536)),l=e=>{let{props:r}=(0,t.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,n]of Object.entries(r))void 0===n&&delete r[e];return{props:r}},o=a.Image},6801:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return d}});var s=n(3827),t=n(4090),a=n(1126),i=n(7907),l=n(8009);n(703);var o=n(8792);function d(){let[e,r]=(0,t.useState)({username:"admin",password:"adminBhutan"}),[n,d]=(0,t.useState)(!1),u=(0,i.useRouter)(),{status:c}=(0,a.useSession)(),m=async r=>{if(r.preventDefault(),d(!0),"admin"!==e.username){u.push("/user");return}try{console.log("Login attempt with username:",e.username);let r=await (0,a.signIn)("credentials",{username:e.username,password:e.password,redirect:!1,callbackUrl:"/admin/dashboard"});console.log("Sign in result:",r),(null==r?void 0:r.error)?(l.ZP.error("Login failed: ".concat(r.error)),console.error("Login error details:",r.error)):(null==r?void 0:r.ok)?(l.ZP.success("Login successful!"),u.push("/admin/dashboard")):(l.ZP.error("Unexpected response from server"),console.error("Unexpected result:",r))}catch(e){l.ZP.error("Login error: "+(e.message||"Unknown error")),console.error("Login error details:",e)}finally{d(!1)}};return"authenticated"===c?(u.push("/admin/dashboard"),null):(0,s.jsx)("div",{className:"min-h-screen bg-[var(--rice-white)] flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-lg",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[(0,s.jsx)("div",{className:"w-20 h-20 mx-auto mb-4 relative",children:(0,s.jsx)("div",{className:"w-20 h-20 bg-[var(--dzong-blue)] rounded-full flex items-center justify-center",children:(0,s.jsx)("i",{className:"bi bi-person-circle text-3xl text-white"})})}),(0,s.jsx)("h1",{className:"text-3xl font-bold font-['Cinzel'] text-[var(--dzong-blue)] mb-2",children:"Admin Login"}),(0,s.jsx)("p",{className:"text-gray-600 font-['Playfair_Display']",children:"Welcome back! Please enter your credentials."})]}),(0,s.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1 font-['Playfair_Display']",children:"Username"}),(0,s.jsx)("input",{type:"text",id:"username",value:e.username,onChange:n=>r({...e,username:n.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[var(--river-blue)] focus:border-transparent",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1 font-['Playfair_Display']",children:"Password"}),(0,s.jsx)("input",{type:"password",id:"password",value:e.password,onChange:n=>r({...e,password:n.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[var(--river-blue)] focus:border-transparent",required:!0})]}),(0,s.jsx)("button",{type:"submit",disabled:n,className:"w-full py-3 px-4 bg-[var(--dzong-blue)] text-white rounded-md font-['Cinzel'] transition-all\n              ".concat(n?"opacity-70 cursor-not-allowed":"hover:bg-[var(--river-blue)]"),children:n?(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[(0,s.jsx)("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):"Sign In"})]}),(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-[var(--mountain-slate)]",children:["Donâ€™t have an account?"," ",(0,s.jsx)(o.default,{href:"/registration",className:"text-[var(--river-blue)] hover:underline font-medium",children:"Create one"})]})})]})})}}},function(e){e.O(0,[250,749,9,267,971,69,744],function(){return e(e.s=3511)}),_N_E=e.O()}]);