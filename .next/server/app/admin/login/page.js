(()=>{var e={};e.id=920,e.ids=[920],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},69695:(e,r,t)=>{"use strict";t.r(r),t.d(r,{GlobalError:()=>o.a,__next_app__:()=>m,originalPathname:()=>c,pages:()=>u,routeModule:()=>p,tree:()=>d});var s=t(50482),a=t(69108),n=t(62563),o=t.n(n),i=t(68300),l={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>i[e]);t.d(r,l);let d=["",{children:["admin",{children:["login",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,64149)),"D:\\Tshewang Lhamo\\02220251_Project01 - Copy\\src\\app\\admin\\login\\page.jsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,48964)),"D:\\Tshewang Lhamo\\02220251_Project01 - Copy\\src\\app\\admin\\layout.jsx"]}]},{layout:[()=>Promise.resolve().then(t.bind(t,52308)),"D:\\Tshewang Lhamo\\02220251_Project01 - Copy\\src\\app\\layout.jsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,69361,23)),"next/dist/client/components/not-found-error"]}],u=["D:\\Tshewang Lhamo\\02220251_Project01 - Copy\\src\\app\\admin\\login\\page.jsx"],c="/admin/login/page",m={require:t,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/login/page",pathname:"/admin/login",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},87938:(e,r,t)=>{Promise.resolve().then(t.t.bind(t,2583,23)),Promise.resolve().then(t.t.bind(t,26840,23)),Promise.resolve().then(t.t.bind(t,38771,23)),Promise.resolve().then(t.t.bind(t,13225,23)),Promise.resolve().then(t.t.bind(t,9295,23)),Promise.resolve().then(t.t.bind(t,43982,23))},39960:(e,r,t)=>{Promise.resolve().then(t.bind(t,62705))},60790:(e,r,t)=>{Promise.resolve().then(t.bind(t,33269))},55562:(e,r,t)=>{Promise.resolve().then(t.bind(t,49181))},89410:(e,r,t)=>{"use strict";t.d(r,{default:()=>a.a});var s=t(37412),a=t.n(s)},56506:(e,r,t)=>{"use strict";t.d(r,{default:()=>a.a});var s=t(61476),a=t.n(s)},37412:(e,r,t)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e,r){for(var t in r)Object.defineProperty(e,t,{enumerable:!0,get:r[t]})}(r,{getImageProps:function(){return i},default:function(){return l}});let s=t(39694),a=t(83855),n=t(31900),o=s._(t(74931)),i=e=>{let{props:r}=(0,a.getImgProps)(e,{defaultLoader:o.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,t]of Object.entries(r))void 0===t&&delete r[e];return{props:r}},l=n.Image},33269:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>l});var s=t(95344),a=t(47674),n=t(8428),o=t(3729);function i({children:e}){let{data:r,status:t}=(0,a.useSession)(),i=(0,n.useRouter)(),l="/admin/login"===(0,n.usePathname)();return((0,o.useEffect)(()=>{"loading"===t||r||l||i.push("/admin/login"),r&&l&&i.push("/admin/dashboard")},[r,t,i,l]),"loading"===t)?s.jsx("div",{className:"min-h-screen bg-[var(--rice-white)] flex items-center justify-center",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-[var(--dzong-blue)] border-t-transparent rounded-full animate-spin mx-auto mb-4"}),s.jsx("p",{className:"text-[var(--dzong-blue)] font-['Playfair_Display']",children:"Loading..."})]})}):e}function l({children:e}){return s.jsx(a.SessionProvider,{children:s.jsx(i,{children:e})})}},49181:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>d});var s=t(95344),a=t(3729),n=t(47674),o=t(8428),i=t(44669);t(89410);var l=t(56506);function d(){let[e,r]=(0,a.useState)({username:"admin",password:"adminBhutan"}),[t,d]=(0,a.useState)(!1),u=(0,o.useRouter)(),{status:c}=(0,n.useSession)(),m=async r=>{if(r.preventDefault(),d(!0),"admin"!==e.username){u.push("/user");return}try{console.log("Login attempt with username:",e.username);let r=await (0,n.signIn)("credentials",{username:e.username,password:e.password,redirect:!1,callbackUrl:"/admin/dashboard"});console.log("Sign in result:",r),r?.error?(i.ZP.error(`Login failed: ${r.error}`),console.error("Login error details:",r.error)):r?.ok?(i.ZP.success("Login successful!"),u.push("/admin/dashboard")):(i.ZP.error("Unexpected response from server"),console.error("Unexpected result:",r))}catch(e){i.ZP.error("Login error: "+(e.message||"Unknown error")),console.error("Login error details:",e)}finally{d(!1)}};return"authenticated"===c?(u.push("/admin/dashboard"),null):s.jsx("div",{className:"min-h-screen bg-[var(--rice-white)] flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"max-w-md w-full bg-white p-8 rounded-lg shadow-lg",children:[(0,s.jsxs)("div",{className:"text-center mb-8",children:[s.jsx("div",{className:"w-20 h-20 mx-auto mb-4 relative",children:s.jsx("div",{className:"w-20 h-20 bg-[var(--dzong-blue)] rounded-full flex items-center justify-center",children:s.jsx("i",{className:"bi bi-person-circle text-3xl text-white"})})}),s.jsx("h1",{className:"text-3xl font-bold font-['Cinzel'] text-[var(--dzong-blue)] mb-2",children:"Admin Login"}),s.jsx("p",{className:"text-gray-600 font-['Playfair_Display']",children:"Welcome back! Please enter your credentials."})]}),(0,s.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"username",className:"block text-sm font-medium text-gray-700 mb-1 font-['Playfair_Display']",children:"Username"}),s.jsx("input",{type:"text",id:"username",value:e.username,onChange:t=>r({...e,username:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[var(--river-blue)] focus:border-transparent",required:!0})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1 font-['Playfair_Display']",children:"Password"}),s.jsx("input",{type:"password",id:"password",value:e.password,onChange:t=>r({...e,password:t.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-2 focus:ring-[var(--river-blue)] focus:border-transparent",required:!0})]}),s.jsx("button",{type:"submit",disabled:t,className:`w-full py-3 px-4 bg-[var(--dzong-blue)] text-white rounded-md font-['Cinzel'] transition-all
              ${t?"opacity-70 cursor-not-allowed":"hover:bg-[var(--river-blue)]"}`,children:t?(0,s.jsxs)("div",{className:"flex items-center justify-center",children:[s.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):"Sign In"})]}),s.jsx("div",{className:"mt-6 text-center",children:(0,s.jsxs)("p",{className:"text-[var(--mountain-slate)]",children:["Donâ€™t have an account?"," ",s.jsx(l.default,{href:"/registration",className:"text-[var(--river-blue)] hover:underline font-medium",children:"Create one"})]})})]})})}},62705:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>n});var s=t(95344),a=t(44669);function n({children:e}){return(0,s.jsxs)(s.Fragment,{children:[s.jsx(a.x7,{position:"top-right",toastOptions:{success:{duration:3e3,style:{background:"#4CAF50",color:"#fff",padding:"16px"}},error:{duration:3e3,style:{background:"#f44336",color:"#fff",padding:"16px"}},style:{border:"1px solid #ccc",padding:"16px",boxShadow:"0 4px 6px rgba(0,0,0,0.1)"}}}),e]})}},48964:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>n,__esModule:()=>a,default:()=>o});let s=(0,t(86843).createProxy)(String.raw`D:\Tshewang Lhamo\02220251_Project01 - Copy\src\app\admin\layout.jsx`),{__esModule:a,$$typeof:n}=s,o=s.default},64149:(e,r,t)=>{"use strict";t.r(r),t.d(r,{$$typeof:()=>n,__esModule:()=>a,default:()=>o});let s=(0,t(86843).createProxy)(String.raw`D:\Tshewang Lhamo\02220251_Project01 - Copy\src\app\admin\login\page.jsx`),{__esModule:a,$$typeof:n}=s,o=s.default},52308:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>p,metadata:()=>m});var s=t(25036),a=t(13362),n=t.n(a),o=t(49828),i=t.n(o);t(5023);let l=(0,t(86843).createProxy)(String.raw`D:\Tshewang Lhamo\02220251_Project01 - Copy\src\app\providers.jsx`),{__esModule:d,$$typeof:u}=l,c=l.default,m={title:"Explore Bhutan - Your Gateway to the Land of Thunder Dragon",description:"Discover the magic of Bhutan with our curated tours, cultural experiences, and adventure packages.",keywords:"Bhutan, travel, tourism, Buddhist temples, Himalayan kingdom, cultural tours",authors:[{name:"Bhutan Travel"}],openGraph:{title:"Explore Bhutan - Your Gateway to the Land of Thunder Dragon",description:"Discover the magic of Bhutan with our curated tours, cultural experiences, and adventure packages.",url:"https://bhutan-travel.vercel.app",siteName:"Bhutan Travel",locale:"en_US",type:"website"}};function p({children:e}){return(0,s.jsxs)("html",{lang:"en",className:`${n().variable} ${i().variable}`,children:[s.jsx("head",{children:s.jsx("link",{rel:"stylesheet",href:"https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"})}),s.jsx("body",{className:i().className,children:s.jsx(c,{children:e})})]})}},5023:()=>{}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),s=r.X(0,[638,512,476,900,221],()=>t(69695));module.exports=s})();